LPARAMETERS toUpdateInfo

LOCAL lcNote, ;
	lcRegisterWithThor

WITH toUpdateInfo
    .ApplicationName = 'Git and Hg Utilities'
    .Component       = 'No'
    .ToolName        = 'Thor_Tool_ThorInternalRepository'
    .VersionNumber   = 'v2016.07.23'
    .VersionDate     = DATE(2016, 7, 23)
    .SourceFileUrl   = 'https://bitbucket.org/mikepotjer/vfp-git-utils/downloads/GitUtils.zip'
    .LinkPrompt      = 'Git/Hg Utilities for VFP Home Page'
    .Link            = 'https://bitbucket.org/mikepotjer/vfp-git-utils'
ENDWITH

TEXT TO lcRegisterWithThor NOSHOW TEXTMERGE
    MESSAGEBOX('From the Thor Launcher, see "Applications -> Git-Hg Utilities"' + CHR(13) ;
        + SPACE(5) + 'and "Applications -> FoxBin2Prg"', 0 ,"Git-Hg Utilities installed", 5000)
ENDTEXT

ADDPROPERTY( toUpdateInfo, 'RegisterWithThor', lcRegisterWithThor )

TEXT TO lcNote NOSHOW
The Git-Hg Utilities ease the process of working with VFP's binary files when using Git or Mercurial as the source control provider, as well as making it easier to work with .PJX projects which contain files from multiple Git or Mercurial repositories.  See the tool home page for more information.

These utilities require the Thor repository, FoxBin2Prg, Git for Windows or Mercurial for Windows, and the Windows Scripting Host.

==== Change History ====
2016.07.23
 - Correct an issue where the modification date of a file that had just been edited could be reset to an earlier date during the "Prepare for Git commit" process.  This could occur if the timestamp file somehow ended up with duplicate entries for a file in the repository.  Duplicates are now removed when reading the file list from the timestamp file, and only the most recent timestamp is used for a duplicated file name.  This fix also removes the duplicates when the timestamp file is updated. (Thanks to Eddie Caldwell)
 - Enhance the "Prepare for Git commit" process so that if there are multiple .PJ2 files being tracked in a repository (and the .PJX files are not being tracked), all of the .PJ2 files will be regenerated.  Before, you had to run "Prepare for Git commit" with a specific .PJX file, and then only the .PJ2 file for that .PJX was regenerated.
 - Enhance all the utilities to support Mercurial repositories, and added an option to specify a different file name for the timestamp file in a Mercurial repository.

2015.11.20
 - Correct a bug that caused an error in the "Save file timestamps" tool when a file that was being tracked in the repository has been deleted, but the deletion is not staged yet. (Thanks to Eddie Caldwell)
 - Correct a bug that caused an error in the "Restore file timestamps" tool when a file is referenced in the timestamp file, but is was deleted from the repository in a previous commit. (Thanks to Eddie Caldwell)

2015.10.12
 - When a new primary VFP binary file is added to a repository, the "Prepare for Git commit" process will now ensure that any untracked files that belong with it will be added to the repository.  For example, if a .SCX file is added, the .SCT and .SC2 files that go with it will be added for you.

2015.10.09
 - Modify the list of repositories in a project to include totals for staged and unstaged changes, untracked files, and merge conflicts.
 - Add a tool which will create and populate a table from a FoxBin2Prg DB2 file created with the setting DBF_Conversion_Support: 4.
 - Update the ReadMe file (shown on the tool homepage) to document the new features, and include additional information about the Prepare for Git Commit tool.

2015.07.27
 - Enhance the error handling for executing external commands to do a better job of collecting error info, eliminating a scenario where a blank error message was being generated.

2015.07.24
 - Modify the recompile process for the post-checkout file synchronization to attempt to recompile all files in a repository, even after one of them fails to compile.
 - Update the error messaging for the recompile process to include the name of all the files that fail, and the name of the repository where the error occurs.

2015.07.09
 - Correct a bug in the scope selection code that resulted in a VFP error if the form was cancelled.
 - Refactor to move the scope selection code to the main Git Utilities class so it can be shared by all the individual tools, rather than repeating it in every tool.

2015.07.08
 - Make some minor changes for including this project in Thor's "Check for Updates" feature.

2015.06.10
 - Enhance the post-checkout synch process to restore file timestamps, if applicable.
 - Modify the post-checkout synch tool to link to the Git Utilities options to more easily access the timestamp options.

2015.06.04
 - Fix a bug in the "Prepare for Git commit" process which would fail to cleanup a binary file if the file extensions for a pair of binary files were not the same case (for example .vcx and .VCT).  Only the primary file was being cleaned up in this scenario.
 - Add new features to the Git Utilities class to provide post-checkout file synchronization.
 - Add a new "Post-checkout file synchronization" tool which implements the corresponding features added to the Git utilities class.
 - Update the readme with information about the post-checkout tool.

2015.06.03
 - Update to the ReadMe file to add a section on getting started with Git.
 - Add links to the tool home page on GitHub.

2015.05.12
 - Initial public release of the Git Utilities.
ENDTEXT

ADDPROPERTY( toUpdateInfo, 'Notes', lcNote )

EXECSCRIPT( _Screen.cThorDispatcher, 'Result=', toUpdateInfo )
RETURN toUpdateInfo
